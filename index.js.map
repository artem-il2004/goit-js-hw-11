{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nexport default function httpRequest(q) {\nconst params = new URLSearchParams({\n    key: \"47392401-769446c280b709c486589ce4f\",\n    q,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n});\n        \n    const url = `https://pixabay.com/api/?${params.toString()}`;\n    return fetch(url) \n    .then(res => {\n            if (!res.ok) { \n                throw new Error(res.status);\n            }\n            if(res)\n            return res.json();\n        })\n        .then(data => { \n            if (data.hits && data.hits.length === 0) {\n                iziToast.show({\n                    position: 'topRight',\n                    iconUrl: \"../img/x.svg\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    backgroundColor: \"#EF4040\",\n                    messageColor: \"white\",\n});\n            } else {\n                return data.hits;\n            }\n        }\n    )\n    .catch(error => console.log(error));\n    \n        \n\n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport default function renderIMG(hits) {\n    const gallery = document.querySelector(\".gallery\"); \n    const imgMarkup = hits\n        .map(({largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => {\n            return `\n            <li class=\"list-item\">\n\n            <a href=\"${largeImageURL}\" >  <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n             \n                <ul class=\"info-list\">\n                <li class=\"info-item\"> <h3 class=\"infoTitle\">Likes</h3> <p class=\"infoTxt\">${likes}</p></li>\n                <li class=\"info-item\"><h3 class=\"infoTitle\">Views</h3> <p class=\"infoTxt\">${views}</p></li>\n                <li class=\"info-item\"><h3 class=\"infoTitle\">Comments</h3> <p class=\"infoTxt\">${comments}</p></li>\n                <li class=\"info-item\"><h3 class=\"infoTitle\">Downloads</h3> <p class=\"infoTxt\">${downloads}</p></li>\n                </ul>\n              </li>  \n            `;\n        })\n        .join(\"\");\n    \n    gallery.innerHTML = imgMarkup; \n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport httpRequest from './js/pixabay-api.js'\nimport renderIMG from './js/render-functions.js'\nconst submit = document.querySelector(\".form-input\");\n\nfunction handleSubmit(event) { \n    event.preventDefault();\n    const formValue = event.target.elements['input-field'].value.trim();\n    const loadindMessage = document.querySelector(\".loader-container\");\n    const gallery = document.querySelector(\".gallery\");\n\n    if (!formValue) {\n        iziToast.show({\n            message: \"Sorry, you forgot necessery information\"\n        });\n        return;\n        \n    }\n    else { \n         loadindMessage.style.display = \"flex\";\n        httpRequest(formValue)\n            .then(hits => {\n                loadindMessage.style.display = \"none\";\n                return renderIMG(hits);\n            })\n            .catch(error => {\n                gallery.innerHTML = \"\";\n                iziToast.show({\n            message: \"Something went wrong\"\n        });\n            })\n            .finally(() => {\n                event.target.reset();\n            });        \n    }\n        \n}; \n\nsubmit.addEventListener(\"submit\", handleSubmit);\n\n"],"names":["httpRequest","q","url","res","data","iziToast","error","renderIMG","hits","gallery","imgMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","SimpleLightbox","submit","handleSubmit","event","formValue","loadindMessage"],"mappings":"6vBAIe,SAASA,EAAYC,EAAG,CASnC,MAAMC,EAAM,4BARD,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAC,EAEkD,SAAQ,CAAE,GACzD,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAO,CACL,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,GAAGA,EACH,OAAOA,EAAI,MACvB,CAAS,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAClCC,EAAS,KAAK,CACV,SAAU,WACV,QAAS,eACT,QAAS,2EACT,gBAAiB,UACjB,aAAc,OAClC,CAAC,MAEe,QAAOD,EAAK,IAEnB,CACJ,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAItC,CCpCe,SAASC,EAAUC,EAAM,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAYF,EACb,IAAI,CAAC,CAAC,cAAAG,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACvD;AAAA;AAAA;AAAA,uBAGIN,CAAa,gCAAgCC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,6FAGDC,CAAK;AAAA,4FACNC,CAAK;AAAA,+FACFC,CAAQ;AAAA,gGACPC,CAAS;AAAA;AAAA;AAAA,aAIhG,EACA,KAAK,EAAE,EAEZR,EAAQ,UAAYC,EACH,IAAIQ,EAAe,YAAY,EACvC,QAAO,CACpB,CCxBA,MAAMC,EAAS,SAAS,cAAc,aAAa,EAEnD,SAASC,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OACvDE,EAAiB,SAAS,cAAc,mBAAmB,EAC3Dd,EAAU,SAAS,cAAc,UAAU,EAEjD,GAAKa,EAQAC,EAAe,MAAM,QAAU,OAChCvB,EAAYsB,CAAS,EAChB,KAAKd,IACFe,EAAe,MAAM,QAAU,OACxBhB,EAAUC,CAAI,EACxB,EACA,MAAMF,GAAS,CACZG,EAAQ,UAAY,GACpBJ,EAAS,KAAK,CAClB,QAAS,sBACrB,CAAS,CACT,CAAa,EACA,QAAQ,IAAM,CACXgB,EAAM,OAAO,OAC7B,CAAa,MAtBO,CACZhB,EAAS,KAAK,CACV,QAAS,yCACrB,CAAS,EACD,MAEH,CAmBL,CAEAc,EAAO,iBAAiB,SAAUC,CAAY"}